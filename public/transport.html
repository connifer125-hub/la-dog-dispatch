<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dog Transporter Sign-Up ‚Äî LA Dog Dispatch</title>
    <link rel="icon" type="image/png" href="/logo-icon.png">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Source+Sans+3:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --red: #c4281c; --dark: #1a1614; --cream: #f8f6f3; --tan: #e8e4dd; --text: #3a3632; --muted: #6b6560; --border: #d4cfc7; }
        body { font-family: 'Source Sans 3', sans-serif; color: var(--text); background: var(--cream); }
        nav.topnav { background: rgba(248,246,243,0.97); border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 100; backdrop-filter: blur(8px);  overflow: hidden;}
        .nav-inner { max-width: 1400px; margin: 0 auto; padding: 0 3rem; display: flex; justify-content: space-between; align-items: center; height: 68px;  overflow: hidden;}
        .logo { font-family: 'Playfair Display', serif; font-size: 1.6rem; color: var(--dark); text-decoration: none; font-weight: 600; }
        .nav-links { display: flex; gap: 1.5rem; list-style: none; align-items: center; }
        .nav-links a { text-decoration: none; color: var(--text); font-weight: 500; font-size: 0.85rem; }
        .nav-links a:hover { color: var(--red); }
        .btn-red-nav { background: var(--red); color: white !important; padding: 0.45rem 1.3rem; border-radius: 6px; font-weight: 600 !important; }

        .hero { background: var(--dark); padding: 2.5rem 3rem; }
        .hero-inner { max-width: 760px; margin: 0 auto; }
        .eyebrow { font-size: 0.72rem; font-weight: 700; letter-spacing: 0.16em; text-transform: uppercase; color: var(--red); margin-bottom: 0.7rem; display: block; }
        .hero h1 { font-family: 'Playfair Display', serif; font-size: 2.2rem; color: white; font-weight: 700; line-height: 1.2; margin-bottom: 0.7rem; }
        .hero-sub { font-size: 0.95rem; color: rgba(255,255,255,0.55); line-height: 1.7; border-left: 3px solid var(--red); padding-left: 1.1rem; max-width: 580px; }

        .form-wrap { max-width: 600px; margin: 0 auto; padding: 2rem 3rem; }
        .section-label { font-size: 0.68rem; font-weight: 700; letter-spacing: 0.14em; text-transform: uppercase; color: var(--red); margin-bottom: 0.5rem; display: block; }
        h2 { font-family: 'Playfair Display', serif; font-size: 1.3rem; color: var(--dark); font-weight: 700; margin-bottom: 0.5rem; }
        .form-sub { font-size: 0.88rem; color: var(--muted); margin-bottom: 1.2rem; line-height: 1.6; }

        .form-grid { display: flex; flex-direction: column; gap: 0.8rem; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 0.8rem; }
        .form-group { display: flex; flex-direction: column; gap: 0.3rem; }
        label { font-size: 0.8rem; font-weight: 600; color: var(--dark); }
        .req { color: var(--red); }
        input, select { padding: 0.65rem 0.9rem; border: 1.5px solid var(--border); border-radius: 8px; font-size: 0.9rem; font-family: 'Source Sans 3', sans-serif; color: var(--text); background: var(--cream); width: 100%; transition: border-color 0.2s; }
        input:focus, select:focus { outline: none; border-color: var(--red); background: white; }
        select { appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='7' viewBox='0 0 12 7'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%236b6560' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 0.9rem center; padding-right: 2.2rem; }

        .chip-group { display: flex; flex-wrap: wrap; gap: 0.5rem; }
        .chip { display: inline-flex; align-items: center; gap: 0.4rem; border: 1.5px solid var(--border); border-radius: 20px; padding: 0.35rem 0.8rem; cursor: pointer; transition: all 0.18s; background: var(--cream); }
        .chip:hover { border-color: var(--red); }
        .chip input { position: absolute; opacity: 0; pointer-events: none; }
        .chip span { font-size: 0.82rem; font-weight: 500; pointer-events: none; }
        .chip.selected { border-color: var(--red); background: #fff5f5; color: var(--red); }

        .submit-wrap { margin-top: 1.2rem; display: flex; flex-direction: column; gap: 0.4rem; }
        .btn-submit { background: var(--red); color: white; padding: 0.6rem 1.8rem; border-radius: 8px; font-weight: 700; font-size: 0.95rem; border: none; cursor: pointer; font-family: 'Source Sans 3', sans-serif; transition: background 0.2s; width: fit-content; }
        .btn-submit:hover { background: #9d1f16; }
        .submit-note { font-size: 0.78rem; color: var(--muted); }
        .success-box { display: none; background: #f0fdf4; border: 2px solid #86efac; border-radius: 10px; padding: 1.2rem 1.4rem; text-align: center; margin-top: 1rem; }
        .success-box h3 { font-family: 'Playfair Display', serif; font-size: 1.1rem; color: #166534; margin-bottom: 0.3rem; }
        .success-box p { font-size: 0.85rem; color: #166534; }

        .bottom-cta { background: var(--dark); border-top: 3px solid var(--red); padding: 1.8rem 3rem; text-align: center; }
        .bottom-cta h2 { font-family: 'Playfair Display', serif; font-size: 1.3rem; color: white; margin-bottom: 0.4rem; }
        .bottom-cta p { color: rgba(255,255,255,0.5); font-size: 0.85rem; margin-bottom: 1rem; }
        .cta-btns { display: flex; gap: 0.7rem; justify-content: center; flex-wrap: wrap; }
        .btn-red { background: var(--red); color: white; padding: 0.55rem 1.3rem; border-radius: 7px; text-decoration: none; font-weight: 700; font-size: 0.88rem; }
        .btn-outline { background: transparent; color: white; padding: 0.55rem 1.3rem; border-radius: 7px; text-decoration: none; font-weight: 600; font-size: 0.88rem; border: 1.5px solid rgba(255,255,255,0.3); }

        @media (max-width: 900px) {
            .nav-links { display: none; }
            .logo { font-size: 1.3rem; } }
        @media (max-width: 768px) {
            .hero { padding: 2rem 1.2rem; }
            .hero h1 { font-size: 1.8rem; }
            .form-wrap { padding: 1.5rem 1.2rem; }
            .form-row { grid-template-columns: 1fr; }
            .bottom-cta { padding: 1.5rem 1.2rem; }
            body { padding-bottom: 64px; }
        }
        .bottom-tab-bar { display: none; }
        @media (max-width: 768px) { .bottom-tab-bar { display: flex; position: fixed; bottom: 0; left: 0; right: 0; height: 64px; background: white; border-top: 1px solid var(--border); z-index: 200; align-items: center; } }
        .tab-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 0.2rem; background: none; border: none; cursor: pointer; text-decoration: none; padding: 0.3rem 0; height: 100%; -webkit-tap-highlight-color: transparent; }
        .tab-icon { font-size: 1.2rem; line-height: 1; display: block; }
        .tab-label { font-size: 0.6rem; font-weight: 600; color: #999; font-family: 'Source Sans 3', sans-serif; }
        .tab-item.tab-fund { flex: 1.4; background: var(--red); margin: 0.4rem 0.3rem; border-radius: 10px; height: calc(100% - 0.8rem); box-shadow: 0 4px 12px rgba(196,40,28,0.35); }
        .tab-item.tab-fund .tab-label { color: white; font-size: 0.62rem; }

        .logo-img { height: 52px; width: auto; display: block; }
        @media (max-width: 900px) { .logo-img { height: 40px; } }
    </style>
</head>
<body>

<nav class="topnav">
    <div class="nav-inner">
        <a href="/" class="logo"><img src="/logo-wordmark.png" alt="LA Dog Dispatch" class="logo-img"></a>
        <ul class="nav-links">
            <li><a href="/#dogs-section">Urgent Dogs</a></li>
            <li><a href="/how-it-works.html">How It Works</a></li>
            <li><a href="/about.html">About</a></li>
            <li><a href="/donate.html" class="btn-red-nav">Fund a Dog</a></li>
        </ul>
    </div>
</nav>

<div class="hero">
    <div class="hero-inner">
        <span class="eyebrow">Volunteer Network</span>
        <h1>Sign up to be a Dog Transporter.</h1>
        <p class="hero-sub">Getting dogs from shelters to fosters and rescues ‚Äî locally or to other cities ‚Äî is one of the most critical pieces of every pull. If you have a car and a couple of hours, you can save a life.</p>
    </div>
</div>

<div class="form-wrap">
    <span class="section-label">Transporter Sign-Up</span>
    <h2>Tell us about yourself</h2>
    <p class="form-sub">We'll add you to our transporter list and connect you with rescues that need help moving dogs. No commitment until you say yes to a specific run.</p>

    <form id="transport-form">
        <div class="form-grid">
            <div class="form-row">
                <div class="form-group">
                    <label>First Name <span class="req">*</span></label>
                    <input type="text" name="first_name" required placeholder="First name">
                </div>
                <div class="form-group">
                    <label>Last Name</label>
                    <input type="text" name="last_name" placeholder="Last name">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Email <span class="req">*</span></label>
                    <input type="email" name="email" required placeholder="you@email.com">
                </div>
                <div class="form-group">
                    <label>Phone</label>
                    <input type="tel" name="phone" placeholder="(310) 555-0000">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>City <span class="req">*</span></label>
                    <input type="text" name="city" required placeholder="e.g. Culver City">
                </div>
                <div class="form-group">
                    <label>ZIP Code</label>
                    <input type="text" name="zip" placeholder="90210">
                </div>
            </div>

            <div class="form-group">
                <label>Transport range</label>
                <select name="range">
                    <option value="">Select...</option>
                    <option value="local">Local only (within 20 miles)</option>
                    <option value="regional">Regional (20‚Äì100 miles)</option>
                    <option value="statewide">Statewide (anywhere in CA)</option>
                    <option value="interstate">Interstate (I'll drive to other states)</option>
                </select>
            </div>

            <div class="form-group">
                <label>Contact preference</label>
                <div class="chip-group">
                    <label class="chip"><input type="checkbox" name="contact_pref" value="email_ok" checked><span>‚úâÔ∏è Email me</span></label>
                    <label class="chip"><input type="checkbox" name="contact_pref" value="text_ok"><span>üì± Text me</span></label>
                </div>
            </div>
        </div>

        <div class="submit-wrap">
            <button type="submit" class="btn-submit">Sign Up to Transport ‚Üí</button>
            <p class="submit-note">You'll get a confirmation email. We'll only reach out when a transport run comes up that fits your area.</p>
        </div>
    </form>

    <div class="success-box" id="success-box">
        <h3>üöó You're on the list!</h3>
        <p>Thank you for signing up. We'll reach out when a transport run comes up in your area.</p>
    </div>
</div>

<div class="bottom-cta">
    <h2>Other ways to help</h2>
    <p>Every role in this network matters.</p>
    <div class="cta-btns">
        <a href="/foster.html" class="btn-outline">Foster a Dog</a>
        <a href="/donate.html" class="btn-red">Fund a Dog ‚Üí</a>
    </div>
</div>

<nav class="bottom-tab-bar">
    <a href="/#dogs-section" class="tab-item"><span class="tab-icon">üêï</span><span class="tab-label">Dogs</span></a>
    <a href="/foster.html" class="tab-item"><span class="tab-icon">üè†</span><span class="tab-label">Foster</span></a>
    <a href="/donate.html" class="tab-item tab-fund"><span class="tab-icon">$</span><span class="tab-label">Fund a Dog</span></a>
    <a href="/rescue.html" class="tab-item"><span class="tab-icon">‚òÖ</span><span class="tab-label">Rescue</span></a>
    <button class="tab-item"><span class="tab-icon">‚ò∞</span><span class="tab-label">More</span></button>
</nav>

<script>
    document.querySelectorAll('.chip input').forEach(input => {
        input.addEventListener('change', () => {
            input.closest('.chip').classList.toggle('selected', input.checked);
        });
    });

    document.getElementById('transport-form').addEventListener('submit', async (e) => {
        e.preventDefault();
        const form = e.target;
        const btn = form.querySelector('.btn-submit');
        btn.textContent = 'Signing up...';
        btn.disabled = true;
        const data = {
            first_name: form.first_name.value,
            last_name: form.last_name.value,
            email: form.email.value,
            phone: form.phone.value,
            city: form.city.value,
            zip: form.zip.value,
            range: form.range.value,
            contact_pref: [...form.querySelectorAll('input[name="contact_pref"]:checked')].map(i => i.value).join(', ')
        };
        try {
            const res = await fetch('/api/transporters', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            });
            if (res.ok) {
                form.style.display = 'none';
                document.getElementById('success-box').style.display = 'block';
            } else { throw new Error(); }
        } catch {
            btn.textContent = 'Sign Up to Transport ‚Üí';
            btn.disabled = false;
            alert('Something went wrong. Please try again.');
        }
    });
</script>
</body>
</html>
